§2025-04-28 21:23:49.970 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
Ï2025-04-28 21:23:49.993 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Connecting to postgres database at jdbc:postgresql://localhost:5432/beesharp?user=beesharp_user&password=supersecret
€2025-04-28 21:23:50.230 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.277 seconds.
y2025-04-28 21:23:50.232 [DefaultDispatcher-worker-3 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
{2025-04-28 21:23:50.233 [DefaultDispatcher-worker-3 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
Ê2025-04-28 21:23:50.268 [DefaultDispatcher-worker-4 @request#3] INFO  io.ktor.test - Connecting to postgres database at jdbc:postgresql://localhost:5432/beesharp?user=beesharp_user&password=supersecret
x2025-04-28 21:23:50.314 [DefaultDispatcher-worker-4 @request#3] ERROR io.ktor.test - Error inserting user into database
norg.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "users_username_key"
5  Detail: Key (username)=(testuser2) already exists.
_	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
Y	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
Q	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
J	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
B	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
[	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
X	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
O	at com.example.SecurityKt$configureSecurity$2$2.invokeSuspend(Security.kt:73)
E	at com.example.SecurityKt$configureSecurity$2$2.invoke(Security.kt)
E	at com.example.SecurityKt$configureSecurity$2$2.invoke(Security.kt)
[	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:127)
P	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
P	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
W	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
S	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
^	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
;	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:92)
g	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:510)
\	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
\	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
Q	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:19)
I	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:208)
F	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:71)
Z	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:154)
O	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
O	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
W	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
S	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
„	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:119)
y	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
y	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
W	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
S	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
^	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
;	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:92)
s	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:510)
h	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
h	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
Q	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:19)
_	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:230)
T	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
T	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
_	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:104)
T	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
T	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
W	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
S	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
‚	at io.ktor.server.engine.BaseApplicationResponse$Companion$setupFallbackResponse$1.invokeSuspend(BaseApplicationResponse.kt:349)
w	at io.ktor.server.engine.BaseApplicationResponse$Companion$setupFallbackResponse$1.invoke(BaseApplicationResponse.kt)
w	at io.ktor.server.engine.BaseApplicationResponse$Companion$setupFallbackResponse$1.invoke(BaseApplicationResponse.kt)
W	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
S	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
^	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
;	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:92)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:510)
v	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
v	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
Q	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:19)
m	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:229)
b	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
b	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
_	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:43)
Y	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:166)
>	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
s	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:194)
{	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:177)
^	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
[	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
g	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
t	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
[	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
A	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:100)
W	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
<	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
Z	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)
c	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:820)
a	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:717)
[	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:704)
